<!DOCTYPE html>
{% extends "layout.html" %}
{% block title %}Frontpage{% endblock %}
{% block content %}
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
{% if session.username %}
<div class="container">
  <div class="row">
    <div class="col-8">
      <h1>Welcome!</h1>
      <p>
        Logged in with username: {{ session.username }}
			<p>
        <ul>
        {% for restaurant in restaurants %}
          <li><a href="/restaurant/{{restaurant[0]}}">{{restaurant[1]}}</a></li>
        {% endfor %}
        </ul>
    </div>
    <div class="col-4">
      <h2>Search for users.</h2>
      <p>
				Search for user here:
			<form action="/" method="POST">
				<div class="form-group col-6">
						<label for="username">Username</label>
						<input type="text" class="form-control" name="username" id="username" maxlength="26">
            <input type="hidden" name="csrf_token" value="{{ session.csrf_token }}">
            <span style="color: red">{{ message }}</span>
				</div>
        <div class="form-group col-6">
          <button type="submit" class="btn btn-primary">Search</button>
        </div>
      </form>
    </div>
  </div>
</div>

{% else %}
<div class="container">
  <div class="row">
    <div class="col-8">
      <h1>Welcome!</h1>
      <p>
        Log in if you want to write reviews:
				<a href="/login"><button>Login</button></a>
			<p>
				<ul>
          {% for restaurant in restaurants %}
            <li><a href="/restaurant/{{restaurant[0]}}">{{restaurant[1]}}</a></li>
          {% endfor %}
        </ul>
    </div>
    <div class="col-4">
      <h2>Search for users.</h2>
      <p>
				Search for user here:
			<form action="/" method="POST">
				<div class="form-group col-6">
						<label for="username">Username</label>
						<input type="text" class="form-control" name="username" id="username" maxlength="26">
            <input type="hidden" name="csrf_token" value="{{ session.csrf_token }}">
						<span style="color: red">{{ message }}</span>
				</div>
        <div class="form-group col-6">
          <button type="submit" class="btn btn-primary">Search</button>
        </div>
      </form>
    </div>
  </div>
</div>

{% endif %}
{% endblock %}